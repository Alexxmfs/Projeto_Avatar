<div id="result-container" class="result-container">
    <p class="result-subtitulo">Sua profissão ideal é:</p>

    <h1 class="result-titulo">Cientista de Dados</h1>
    <div class="result-imagem">
        <img src="../../public/img/result-cd.png" style="max-width: 1200px; height: auto;" alt="Imagem de um Aluno">
    </div>

    <p class="result-texto">Responsável por, a partir de dados armazenados e de necessidades de negócios, criar e enriquecer bases de dados analíticas necessárias.</p>

    <div class="result-espaco-btn">
        <a href="" class="result-compartilhar"><img class="result-seta" src="../../public/img/vetor-seta.png" style="max-width: 1200px; height: auto;" alt="Compartilhar">Compartilhar</a>
    </div>

    <div class="result-espaco-btn-hm">
        <a href="/" class="result-voltar-hm"><img class="result-seta" src="../../public/img/seta-voltar.png" style="max-width: 1200px; height: auto;" alt="Voltar">Voltar para home</a>
    </div>
</div>

<!-- Escurece o fundo -->
<div id="overlay"></div>

<!-- Modal de compartilhamento -->
<div id="modal">
    <span id="close">&times;</span>
    <p>Compartilhar:</p>
    <div class="share-icons">
        <div class="share-icon-container whatsapp">
            <a href="#"><img src="../../public/img/vetor-whatsapp.png" alt="WhatsApp"></a>
            <p>WhatsApp</p>
        </div>
        <div class="share-icon-container facebook">
            <a href="#"><img src="../../public/img/vetor-facebook.png" alt="Facebook"></a>
            <p>Facebook</p>
        </div>
        <div class="share-icon-container twitter">
            <a href="#"><img src="../../public/img/vetor-twitter.png" alt="Twitter"></a>
            <p>Twitter</p>
        </div>
        <div class="share-icon-container linkedin">
            <a href="#"><img src="../../public/img/vetor-linkedin.png" alt="LinkedIn"></a>
            <p>LinkedIn</p>
        </div>
        <div class="share-icon-container email">
            <a href="#"><img src="../../public/img/vetor-email.png" alt="Email"></a>
            <p>Email</p>
        </div>
    </div>
    <button id="copy-link">Copiar link</button>
</div>

<script>
var overlay = document.getElementById('overlay');
var modal = document.getElementById('modal');
var closeButton = document.getElementById('close');

function openModal() {
    overlay.style.display = 'block';
    modal.style.display = 'block';
}

function closeModal() {
    overlay.style.display = 'none';
    modal.style.display = 'none';
}

document.querySelector('.result-compartilhar').addEventListener('click', function(event) {
    event.preventDefault();
    openModal();
});

closeButton.addEventListener('click', function(event) {
    event.preventDefault();
    closeModal();
});

overlay.addEventListener('click', function(event) {
    if (event.target === overlay) {
        closeModal();
    }
});

function shareViaWhatsApp() {
    var imageUrl = getImageUrl('card-cd.png'); 
    var message = encodeURIComponent("Confira esta imagem: " + imageUrl); 
    var whatsappUrl = 'https://api.whatsapp.com/send?text=' + message; 
    window.open(whatsappUrl); 
}

function copyImageLink() {
    var imageUrl = getImageUrl('card-cd.png'); 
    var inputElement = document.createElement('input'); 
    inputElement.setAttribute('type', 'text');
    inputElement.setAttribute('value', imageUrl);
    document.body.appendChild(inputElement);
    inputElement.select();
    document.execCommand('copy');
    document.body.removeChild(inputElement); 
}

function shareViaFacebook() {
    var imageUrl = getImageUrl('card-cd.png'); 
    var facebookUrl = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(imageUrl);
    window.open(facebookUrl);
}

function shareViaTwitter() {
    var imageUrl = getImageUrl('card-cd.png'); 
    var twitterUrl = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent("Confira esta imagem:") + '&url=' + encodeURIComponent(imageUrl);
    window.open(twitterUrl);
}

function shareViaLinkedIn() {
    var imageUrl = getImageUrl('card-cd.png'); 
    var linkedinUrl = 'https://www.linkedin.com/shareArticle?mini=true&url=' + encodeURIComponent(imageUrl);
    window.open(linkedinUrl);
}

function shareViaEmail() {
    var imageUrl = getImageUrl('card-cd.png'); 
    var emailSubject = encodeURIComponent("Confira esta imagem");
    var emailBody = encodeURIComponent("Veja esta imagem: " + imageUrl);
    var emailUrl = 'mailto:?subject=' + emailSubject + '&body=' + emailBody;
    window.open(emailUrl);
}

function getBaseUrl() {
    return window.location.origin;
}

function getImageUrl(imageName) {
    var baseUrl = getBaseUrl();
    var imagePath = '/public/img/' + imageName; 
    return baseUrl + imagePath;
}

document.querySelector('.whatsapp a').addEventListener('click', function(event) {
    event.preventDefault();
    shareViaWhatsApp();
});

document.getElementById('copy-link').addEventListener('click', function(event) {
    event.preventDefault();
    copyImageLink();
});

document.querySelector('.facebook a').addEventListener('click', function(event) {
    event.preventDefault();
    shareViaFacebook();
});

document.querySelector('.twitter a').addEventListener('click', function(event) {
    event.preventDefault();
    shareViaTwitter();
});

document.querySelector('.linkedin a').addEventListener('click', function(event) {
    event.preventDefault();
    shareViaLinkedIn();
});

document.querySelector('.email a').addEventListener('click', function(event) {
    event.preventDefault();
    shareViaEmail();
});
</script>